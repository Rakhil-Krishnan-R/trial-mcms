(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[67],{4522:(e,r,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/competitions/create",function(){return a(8293)}])},8293:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>p});var n=a(7876),t=a(4232),s=a(1040),i=a(6222),l=a(5003),o=a(5751),u=a(1316),c=a(7455),m=a(9452),d=a(5502),x=a(4114),b=a(5754),h=a(1578),g=a(4219),A=a(9099),j=a.n(A);function p(){let[e,r]=(0,t.useState)({name:"",collegeName:"",startDate:"",endDate:"",numberOfTeams:16,numberOfCourtRooms:4,teamPrefix:"ABC",rounds:[{name:"Prelims 1",enabled:!0},{name:"Prelims 2",enabled:!1}],scoringRubric:[{criterion:"Oral Advocacy",maxMarks:50}]}),a=(0,t.useMemo)(()=>e.scoringRubric.reduce((e,r)=>e+Number(r.maxMarks||0),0),[e.scoringRubric]),A=(e,a,n)=>r(r=>{let t=[...r.scoringRubric];return t[e][a]=n,{...r,scoringRubric:t}}),p=async r=>{r.preventDefault();let n={...e,totalMarks:a};await s.A.post("/api/competitions",n),j().push("/admin/dashboard")};return(0,n.jsxs)(i.A,{sx:{mt:4},children:[(0,n.jsx)(l.A,{variant:"h5",children:"Create Competition"}),(0,n.jsxs)(o.A,{component:"form",onSubmit:p,sx:{mt:2},children:[(0,n.jsxs)(u.Ay,{container:!0,spacing:2,children:[(0,n.jsx)(u.Ay,{item:!0,xs:12,md:6,children:(0,n.jsx)(c.A,{label:"Competition Name",fullWidth:!0,value:e.name,onChange:a=>r({...e,name:a.target.value}),required:!0})}),(0,n.jsx)(u.Ay,{item:!0,xs:12,md:6,children:(0,n.jsx)(c.A,{label:"College Name",fullWidth:!0,value:e.collegeName,onChange:a=>r({...e,collegeName:a.target.value})})}),(0,n.jsx)(u.Ay,{item:!0,xs:6,children:(0,n.jsx)(c.A,{type:"date",label:"Start Date",fullWidth:!0,InputLabelProps:{shrink:!0},value:e.startDate,onChange:a=>r({...e,startDate:a.target.value})})}),(0,n.jsx)(u.Ay,{item:!0,xs:6,children:(0,n.jsx)(c.A,{type:"date",label:"End Date",fullWidth:!0,InputLabelProps:{shrink:!0},value:e.endDate,onChange:a=>r({...e,endDate:a.target.value})})}),(0,n.jsx)(u.Ay,{item:!0,xs:6,children:(0,n.jsx)(c.A,{label:"Number of Teams",type:"number",fullWidth:!0,value:e.numberOfTeams,onChange:a=>r({...e,numberOfTeams:Number(a.target.value)})})}),(0,n.jsx)(u.Ay,{item:!0,xs:6,children:(0,n.jsx)(c.A,{label:"Number of Court Rooms",type:"number",fullWidth:!0,value:e.numberOfCourtRooms,onChange:a=>r({...e,numberOfCourtRooms:Number(a.target.value)})})}),(0,n.jsx)(u.Ay,{item:!0,xs:6,children:(0,n.jsx)(c.A,{label:"Team Prefix",value:e.teamPrefix,onChange:a=>r({...e,teamPrefix:a.target.value})})}),(0,n.jsxs)(u.Ay,{item:!0,xs:12,children:[(0,n.jsx)(l.A,{variant:"subtitle1",children:"Rounds"}),e.rounds.map((e,a)=>(0,n.jsx)(m.A,{control:(0,n.jsx)(d.A,{checked:e.enabled,onChange:e=>r(r=>{let n=[...r.rounds];return n[a].enabled=e.target.checked,{...r,rounds:n}})}),label:e.name},a))]}),(0,n.jsxs)(u.Ay,{item:!0,xs:12,children:[(0,n.jsxs)(l.A,{variant:"subtitle1",children:["Scoring Rubric â€” Total Marks: ",a]}),e.scoringRubric.map((e,a)=>(0,n.jsxs)(o.A,{sx:{display:"flex",gap:1,alignItems:"center",mb:1},children:[(0,n.jsx)(c.A,{label:"Criterion",value:e.criterion,onChange:e=>A(a,"criterion",e.target.value)}),(0,n.jsx)(c.A,{label:"Max Marks",type:"number",value:e.maxMarks,onChange:e=>A(a,"maxMarks",e.target.value)}),(0,n.jsx)(x.A,{color:"error",onClick:()=>r(e=>({...e,scoringRubric:e.scoringRubric.filter((e,r)=>r!==a)})),children:(0,n.jsx)(g.A,{})})]},a)),(0,n.jsx)(b.A,{startIcon:(0,n.jsx)(h.A,{}),onClick:()=>r(e=>({...e,scoringRubric:[...e.scoringRubric,{criterion:"",maxMarks:0}]})),children:"Add Criterion"})]})]}),(0,n.jsx)(o.A,{sx:{mt:3},children:(0,n.jsx)(b.A,{variant:"contained",type:"submit",children:"Create"})})]})]})}}},e=>{e.O(0,[324,754,329,57,316,314,636,593,792],()=>e(e.s=4522)),_N_E=e.O()}]);